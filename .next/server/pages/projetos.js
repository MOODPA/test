(()=>{var e={};e.id=188,e.ids=[188,220,636],e.modules={361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},963:(e,r,o)=>{"use strict";o.r(r),o.d(r,{config:()=>j,default:()=>x,getServerSideProps:()=>O,getStaticPaths:()=>b,getStaticProps:()=>g,reportWebVitals:()=>N,routeModule:()=>D,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>_,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>E});var t={};o.r(t),o.d(t,{default:()=>h});var a=o(7339),n=o(975),s=o(8651),i=o(4124),d=o.n(i),c=o(8488),l=o(8732),u=o(2015),m=o(3659),f=o(4525),p=o(3511);function h(){let[e,r]=(0,u.useState)([]),[o,t]=(0,u.useState)(!0),[a,n]=(0,u.useState)({type:"",text:""}),[s,i]=(0,u.useState)(!1),[d,c]=(0,u.useState)(""),[h,x]=(0,u.useState)([]),[g,b]=(0,u.useState)({nome:"",tipo:"residencial",areaTerreno:"",areaConstruida:""}),[O,j]=(0,u.useState)([]);(0,m.useRouter)();let N=(0,f.A)();(0,p.A)();let E=()=>{i(!s),n({type:"",text:""})},v=e=>{let{name:r,value:o}=e.target;b({...g,[r]:"areaTerreno"===r||"areaConstruida"===r?parseFloat(o):o})},y=async o=>{if(o.preventDefault(),!g.nome||!g.areaTerreno||!g.areaConstruida)return void n({type:"error",text:"Preencha todos os campos obrigat\xf3rios."});try{t(!0);let o={...g,usuarioId:"user123"},a=await N.adicionarProjeto(o,O);a.success?(n({type:"success",text:"Projeto adicionado com sucesso!"}),b({nome:"",tipo:"residencial",areaTerreno:"",areaConstruida:""}),j([]),i(!1),r([...e,a.projeto])):n({type:"error",text:a.message})}catch(e){console.error("Erro ao adicionar projeto:",e),n({type:"error",text:"Erro ao adicionar projeto. Tente novamente."})}finally{t(!1)}},w=async o=>{if(confirm("Tem certeza que deseja excluir este projeto?"))try{t(!0);let a=await N.removerProjeto(o);a.success?(n({type:"success",text:"Projeto removido com sucesso!"}),r(e.filter(e=>e.id!==o))):n({type:"error",text:a.message})}catch(e){console.error("Erro ao remover projeto:",e),n({type:"error",text:"Erro ao remover projeto. Tente novamente."})}finally{t(!1)}};return(0,l.jsx)("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,l.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Meus Projetos"}),(0,l.jsx)("button",{onClick:E,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:s?"Cancelar":"Novo Projeto"})]}),a.text&&(0,l.jsx)("div",{className:`mb-6 p-3 rounded ${"error"===a.type?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-200":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-200"}`,children:a.text}),s&&(0,l.jsxs)("div",{className:"mb-8 bg-white p-6 rounded-lg shadow-md dark:bg-gray-800",children:[(0,l.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Novo Projeto"}),(0,l.jsxs)("form",{onSubmit:y,children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome do Projeto *"}),(0,l.jsx)("input",{type:"text",name:"nome",value:g.nome,onChange:v,placeholder:"Ex: Resid\xeancia Unifamiliar - Vila Santa Maria",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Tipo de Projeto"}),(0,l.jsxs)("select",{name:"tipo",value:g.tipo,onChange:v,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",children:[(0,l.jsx)("option",{value:"residencial",children:"Residencial"}),(0,l.jsx)("option",{value:"comercial",children:"Comercial"}),(0,l.jsx)("option",{value:"misto",children:"Misto"}),(0,l.jsx)("option",{value:"industrial",children:"Industrial"}),(0,l.jsx)("option",{value:"institucional",children:"Institucional"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\xc1rea do Terreno (m\xb2) *"}),(0,l.jsx)("input",{type:"number",name:"areaTerreno",value:g.areaTerreno,onChange:v,placeholder:"Ex: 250",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,min:"1",step:"0.01"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\xc1rea Constru\xedda (m\xb2) *"}),(0,l.jsx)("input",{type:"number",name:"areaConstruida",value:g.areaConstruida,onChange:v,placeholder:"Ex: 150",className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",required:!0,min:"1",step:"0.01"})]}),(0,l.jsxs)("div",{className:"sm:col-span-2",children:[(0,l.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Arquivos do Projeto"}),(0,l.jsx)("input",{type:"file",onChange:e=>{j(Array.from(e.target.files))},multiple:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),(0,l.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Voc\xea pode enviar m\xfaltiplos arquivos (PDF, DWG, JPG, PNG)"})]})]}),(0,l.jsxs)("div",{className:"mt-6 flex justify-end",children:[(0,l.jsx)("button",{type:"button",onClick:E,className:"mr-3 px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600",children:"Cancelar"}),(0,l.jsx)("button",{type:"submit",disabled:o,className:`px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors ${o?"opacity-70 cursor-not-allowed":""}`,children:o?"Enviando...":"Enviar Projeto"})]})]})]}),(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("input",{type:"text",placeholder:"Buscar projetos...",value:d,onChange:e=>c(e.target.value),className:"w-full px-4 py-2 pl-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"}),(0,l.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,l.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),o&&0===e.length?(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsxs)("svg",{className:"mx-auto h-12 w-12 text-gray-400 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,l.jsx)("p",{className:"mt-2 text-gray-500 dark:text-gray-400",children:"Carregando projetos..."})]}):0===h.length?(0,l.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg shadow-md dark:bg-gray-800",children:[(0,l.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})}),(0,l.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"Nenhum projeto encontrado"}),(0,l.jsxs)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:[d?"Tente outro termo de busca ou ":"Comece a ",(0,l.jsx)("button",{type:"button",onClick:E,className:"text-blue-600 hover:text-blue-500 dark:text-blue-400",children:"adicione um novo projeto"})]})]}):(0,l.jsx)("div",{className:"overflow-x-auto bg-white rounded-lg shadow-md dark:bg-gray-800",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,l.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"Nome"}),(0,l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"Data"}),(0,l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"Status"}),(0,l.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"Conformidade"}),(0,l.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"A\xe7\xf5es"})]})}),(0,l.jsx)("tbody",{className:"bg-white divide-y divide-gray-200 dark:bg-gray-800 dark:divide-gray-700",children:h.map(e=>(0,l.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,l.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,l.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.nome}),(0,l.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.tipo})]}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.data instanceof Date?e.data.toLocaleDateString("pt-BR"):new Date(1e3*e.data.seconds).toLocaleDateString("pt-BR")})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${"An\xe1lise Conclu\xedda"===e.status?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}`,children:e.status})}),(0,l.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,l.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${"Total"===e.conformidade?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"Parcial"===e.conformidade?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:e.conformidade})}),(0,l.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,l.jsx)("a",{href:`/projetos/${e.id}`,className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300 mr-3",children:"Ver Relat\xf3rio"}),(0,l.jsx)("button",{onClick:()=>w(e.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:"Excluir"})]})]},e.id))})]})})]})})})}let x=(0,s.M)(t,"default"),g=(0,s.M)(t,"getStaticProps"),b=(0,s.M)(t,"getStaticPaths"),O=(0,s.M)(t,"getServerSideProps"),j=(0,s.M)(t,"config"),N=(0,s.M)(t,"reportWebVitals"),E=(0,s.M)(t,"unstable_getStaticProps"),v=(0,s.M)(t,"unstable_getStaticPaths"),y=(0,s.M)(t,"unstable_getStaticParams"),w=(0,s.M)(t,"unstable_getServerProps"),_=(0,s.M)(t,"unstable_getServerSideProps"),D=new a.PagesRouteModule({definition:{kind:n.A.PAGES,page:"/projetos",pathname:"/projetos",bundlePath:"",filename:""},components:{App:c.default,Document:d()},userland:t})},2015:e=>{"use strict";e.exports=require("react")},2268:(e,r,o)=>{"use strict";o.d(r,{N:()=>s});var t=o(8732),a=o(2015);let n=(0,a.createContext)({isDarkMode:!1,toggleTheme:()=>{}}),s=({children:e})=>{let[r,o]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{"dark"===localStorage.getItem("mood-pa-theme")&&(o(!0),document.documentElement.classList.add("dark"))},[]),(0,t.jsx)(n.Provider,{value:{isDarkMode:r,toggleTheme:()=>{o(e=>{let r=!e;return localStorage.setItem("mood-pa-theme",r?"dark":"light"),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),r})}},children:e})}},3511:(e,r,o)=>{"use strict";o.d(r,{A:()=>i}),function(){var e=Error("Cannot find module 'firebase/app'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}();let t={apiKey:process.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.NEXT_PUBLIC_FIREBASE_APP_ID},a=Object(function(){var e=Error("Cannot find module 'firebase/app'");throw e.code="MODULE_NOT_FOUND",e}())(t),n=Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(a),s=Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(a),i=function(){return{login:async(e,r)=>{try{let o=(await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(n,e,r)).user,t=await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(s,"users",o.uid));if(!t.exists())return await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(n),{success:!1,message:"Dados de usu\xe1rio n\xe3o encontrados."};{let e=t.data();if(!e.aprovado)return await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(n),{success:!1,message:"Sua conta ainda n\xe3o foi aprovada por um administrador."};return await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(s,"users",o.uid),{ultimoAcesso:new Date}),{success:!0,user:{id:o.uid,email:o.email,nome:e.nome,perfil:e.perfil}}}}catch(r){console.error("Erro no login:",r);let e="Erro ao fazer login. Tente novamente.";return"auth/user-not-found"===r.code||"auth/wrong-password"===r.code?e="Email ou senha incorretos.":"auth/too-many-requests"===r.code&&(e="Muitas tentativas de login. Tente novamente mais tarde."),{success:!1,message:e}}},registrar:async(e,r,o)=>{try{let t=Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(s,"users"),Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())("email","==",r));if(!(await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(t)).empty)return{success:!1,message:"Este email j\xe1 est\xe1 em uso."};let a=(await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(n,r,o)).user;return await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(s,"users",a.uid),{id:a.uid,nome:e,email:r,perfil:"usuario",dataCriacao:new Date,ultimoAcesso:new Date,aprovado:!1}),await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(n),{success:!0,message:"Registro realizado com sucesso! Sua conta ser\xe1 analisada por um administrador."}}catch(r){console.error("Erro no registro:",r);let e="Erro ao registrar. Tente novamente.";return"auth/email-already-in-use"===r.code?e="Este email j\xe1 est\xe1 em uso.":"auth/weak-password"===r.code?e="A senha \xe9 muito fraca. Use pelo menos 6 caracteres.":"auth/invalid-email"===r.code&&(e="Email inv\xe1lido."),{success:!1,message:e}}},logout:async()=>{try{return await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(n),{success:!0}}catch(e){return console.error("Erro no logout:",e),{success:!1,message:"Erro ao fazer logout. Tente novamente."}}},getUsuariosPendentes:async()=>{try{let e=Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(s,"users"),Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())("aprovado","==",!1)),r=await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(e),o=[];return r.forEach(e=>{o.push(e.data())}),{success:!0,usuarios:o}}catch(e){return console.error("Erro ao buscar usu\xe1rios pendentes:",e),{success:!1,message:"Erro ao buscar usu\xe1rios pendentes."}}},aprovarUsuario:async e=>{try{return await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(s,"users",e),{aprovado:!0}),{success:!0}}catch(e){return console.error("Erro ao aprovar usu\xe1rio:",e),{success:!1,message:"Erro ao aprovar usu\xe1rio."}}},rejeitarUsuario:async e=>{try{return await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(s,"users",e),{aprovado:!1,rejeitado:!0}),{success:!0}}catch(e){return console.error("Erro ao rejeitar usu\xe1rio:",e),{success:!1,message:"Erro ao rejeitar usu\xe1rio."}}}}}},3873:e=>{"use strict";e.exports=require("path")},4075:e=>{"use strict";e.exports=require("zlib")},4525:(e,r,o)=>{"use strict";o.d(r,{A:()=>a});var t=o(2015);function a(){let[e,r]=(0,t.useState)(!1),[o,a]=(0,t.useState)(null),n=Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(),s=Object(function(){var e=Error("Cannot find module 'firebase/storage'");throw e.code="MODULE_NOT_FOUND",e}())(),i=async(e,r)=>{try{let o={valor:parseFloat((6*Math.random()+2).toFixed(1)),minimo:5,conforme:!1};o.conforme=o.valor>=o.minimo;let t={valor:parseFloat((3*Math.random()+.5).toFixed(1)),minimo:1.5,conforme:!1};t.conforme=t.valor>=t.minimo;let a={valor:Math.round(r.areaConstruida/r.areaTerreno*100),maximo:70,conforme:!1};a.conforme=a.valor<=a.maximo;let s={valor:Math.round(30*Math.random()+10),minimo:20,conforme:!1};s.conforme=s.valor>=s.minimo;let i={valor:parseFloat((r.areaConstruida/r.areaTerreno).toFixed(2)),maximo:1.5,conforme:!1};i.conforme=i.valor<=i.maximo;let d={plantaBaixa:Math.random()>.1,cortes:Math.random()>.2,fachadas:Math.random()>.2,implantacao:Math.random()>.1,cobertura:Math.random()>.3,cotasNiveis:Math.random()>.3,escalas:Math.random()>.2,norte:Math.random()>.4},c=[];o.conforme||c.push("O recuo frontal est\xe1 abaixo do m\xednimo exigido pela legisla\xe7\xe3o municipal."),t.conforme||c.push("O recuo lateral est\xe1 abaixo do m\xednimo exigido pela legisla\xe7\xe3o municipal."),a.conforme||c.push("A taxa de ocupa\xe7\xe3o est\xe1 acima do m\xe1ximo permitido pela legisla\xe7\xe3o municipal."),s.conforme||c.push("A taxa de permeabilidade est\xe1 abaixo do m\xednimo exigido."),i.conforme||c.push("O coeficiente de aproveitamento est\xe1 acima do m\xe1ximo permitido pela legisla\xe7\xe3o municipal."),d.plantaBaixa||c.push("Falta planta baixa conforme exigido nas normas de representa\xe7\xe3o."),d.cortes||c.push("Faltam cortes conforme exigido nas normas de representa\xe7\xe3o."),d.fachadas||c.push("Faltam fachadas conforme exigido nas normas de representa\xe7\xe3o."),d.implantacao||c.push("Falta implanta\xe7\xe3o conforme exigido nas normas de representa\xe7\xe3o."),d.cobertura||c.push("Falta planta de cobertura conforme exigido nas normas de representa\xe7\xe3o."),d.cotasNiveis||c.push("Faltam cotas e n\xedveis conforme exigido nas normas de representa\xe7\xe3o."),d.escalas||c.push("Faltam escalas conforme exigido nas normas de representa\xe7\xe3o."),d.norte||c.push("Falta indica\xe7\xe3o do norte na implanta\xe7\xe3o.");let l=o.conforme&&t.conforme&&a.conforme&&s.conforme&&i.conforme,u=d.plantaBaixa&&d.cortes&&d.fachadas&&d.implantacao,m=l&&u?"Total":"Parcial",f={projetoId:e,data:new Date,parametros:{recuoFrontal:o,recuoLateral:t,taxaOcupacao:a,taxaPermeabilidade:s,coeficienteAproveitamento:i},representacaoGrafica:d,observacoes:c,conformidade:m},p=await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"analises"),f);return await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"projetos",e),{status:"An\xe1lise Conclu\xedda",conformidade:m}),{id:p.id,...f}}catch(e){return console.error("Erro ao iniciar an\xe1lise:",e),null}};return{loading:e,error:o,getProjetos:async e=>{try{r(!0),a(null);let o=Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"projetos"),Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())("usuarioId","==",e)),t=await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(o),s=[];return t.forEach(e=>{s.push({id:e.id,...e.data()})}),{success:!0,projetos:s}}catch(e){return console.error("Erro ao obter projetos:",e),a("Erro ao carregar projetos. Tente novamente."),{success:!1,message:"Erro ao carregar projetos."}}finally{r(!1)}},getProjetoPorId:async e=>{try{r(!0),a(null);let o=await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"projetos",e));if(!o.exists())return a("Projeto n\xe3o encontrado."),{success:!1,message:"Projeto n\xe3o encontrado."};{let r=Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"analises"),Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())("projetoId","==",e)),t=await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(r),a=null;return t.empty||t.forEach(e=>{a={id:e.id,...e.data()}}),{success:!0,projeto:{id:o.id,...o.data(),analise:a}}}}catch(e){return console.error("Erro ao obter projeto:",e),a("Erro ao carregar projeto. Tente novamente."),{success:!1,message:"Erro ao carregar projeto."}}finally{r(!1)}},adicionarProjeto:async(e,o=[])=>{try{r(!0),a(null);let t=[];if(o&&o.length>0)for(let e of o){let r=Object(function(){var e=Error("Cannot find module 'firebase/storage'");throw e.code="MODULE_NOT_FOUND",e}())(s,`projetos/${Date.now()}_${e.name}`);await Object(function(){var e=Error("Cannot find module 'firebase/storage'");throw e.code="MODULE_NOT_FOUND",e}())(r,e);let o=await Object(function(){var e=Error("Cannot find module 'firebase/storage'");throw e.code="MODULE_NOT_FOUND",e}())(r);t.push(o)}let d={...e,data:new Date,status:"Em An\xe1lise",conformidade:"Pendente",arquivosUrls:t},c=await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"projetos"),d),l=await i(c.id,d);return{success:!0,projeto:{id:c.id,...d,analise:l}}}catch(e){return console.error("Erro ao adicionar projeto:",e),a("Erro ao adicionar projeto. Tente novamente."),{success:!1,message:"Erro ao adicionar projeto."}}finally{r(!1)}},atualizarProjeto:async(e,o,t=[])=>{try{r(!0),a(null);let d=await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"projetos",e));if(!d.exists())return a("Projeto n\xe3o encontrado."),{success:!1,message:"Projeto n\xe3o encontrado."};let c=d.data(),l=[...c.arquivosUrls||[]];if(t&&t.length>0)for(let e of t){let r=Object(function(){var e=Error("Cannot find module 'firebase/storage'");throw e.code="MODULE_NOT_FOUND",e}())(s,`projetos/${Date.now()}_${e.name}`);await Object(function(){var e=Error("Cannot find module 'firebase/storage'");throw e.code="MODULE_NOT_FOUND",e}())(r,e);let o=await Object(function(){var e=Error("Cannot find module 'firebase/storage'");throw e.code="MODULE_NOT_FOUND",e}())(r);l.push(o)}let u={...o,arquivosUrls:l};if(await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"projetos",e),u),o.areaTerreno||o.areaConstruida){let r={...c,...o,arquivosUrls:l};await i(e,r)}return{success:!0}}catch(e){return console.error("Erro ao atualizar projeto:",e),a("Erro ao atualizar projeto. Tente novamente."),{success:!1,message:"Erro ao atualizar projeto."}}finally{r(!1)}},removerProjeto:async e=>{try{r(!0),a(null);let o=Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"analises"),Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())("projetoId","==",e)),t=await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(o),s=n.batch();return t.forEach(e=>{s.delete(e.ref)}),s.delete(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"projetos",e)),await s.commit(),{success:!0}}catch(e){return console.error("Erro ao remover projeto:",e),a("Erro ao remover projeto. Tente novamente."),{success:!1,message:"Erro ao remover projeto."}}finally{r(!1)}},iniciarAnalise:i}}!function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module 'firebase/storage'");throw e.code="MODULE_NOT_FOUND",e}()},7910:e=>{"use strict";e.exports=require("stream")},8286:()=>{},8488:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>n});var t=o(8732),a=o(2268);function n({Component:e,pageProps:r}){return(0,t.jsx)(a.N,{children:(0,t.jsx)(e,{...r})})}o(8286)},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9021:e=>{"use strict";e.exports=require("fs")},9945:e=>{"use strict";e.exports=require("react-dom")}};var r=require("../webpack-runtime.js");r.C(e);var o=e=>r(r.s=e),t=r.X(0,[124,879],()=>o(963));module.exports=t})();