(()=>{var e={};e.id=295,e.ids=[220,295,636],e.modules={361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},975:(e,r)=>{"use strict";Object.defineProperty(r,"A",{enumerable:!0,get:function(){return t}});var t=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},2015:e=>{"use strict";e.exports=require("react")},2268:(e,r,t)=>{"use strict";t.d(r,{N:()=>n});var a=t(8732),o=t(2015);let s=(0,o.createContext)({isDarkMode:!1,toggleTheme:()=>{}}),n=({children:e})=>{let[r,t]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{"dark"===localStorage.getItem("mood-pa-theme")&&(t(!0),document.documentElement.classList.add("dark"))},[]),(0,a.jsx)(s.Provider,{value:{isDarkMode:r,toggleTheme:()=>{t(e=>{let r=!e;return localStorage.setItem("mood-pa-theme",r?"dark":"light"),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),r})}},children:e})}},3511:(e,r,t)=>{"use strict";t.d(r,{A:()=>i}),function(){var e=Error("Cannot find module 'firebase/app'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}();let a={apiKey:process.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.NEXT_PUBLIC_FIREBASE_APP_ID},o=Object(function(){var e=Error("Cannot find module 'firebase/app'");throw e.code="MODULE_NOT_FOUND",e}())(a),s=Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(o),n=Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(o),i=function(){return{login:async(e,r)=>{try{let t=(await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(s,e,r)).user,a=await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"users",t.uid));if(!a.exists())return await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(s),{success:!1,message:"Dados de usu\xe1rio n\xe3o encontrados."};{let e=a.data();if(!e.aprovado)return await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(s),{success:!1,message:"Sua conta ainda n\xe3o foi aprovada por um administrador."};return await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"users",t.uid),{ultimoAcesso:new Date}),{success:!0,user:{id:t.uid,email:t.email,nome:e.nome,perfil:e.perfil}}}}catch(r){console.error("Erro no login:",r);let e="Erro ao fazer login. Tente novamente.";return"auth/user-not-found"===r.code||"auth/wrong-password"===r.code?e="Email ou senha incorretos.":"auth/too-many-requests"===r.code&&(e="Muitas tentativas de login. Tente novamente mais tarde."),{success:!1,message:e}}},registrar:async(e,r,t)=>{try{let a=Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"users"),Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())("email","==",r));if(!(await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(a)).empty)return{success:!1,message:"Este email j\xe1 est\xe1 em uso."};let o=(await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(s,r,t)).user;return await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"users",o.uid),{id:o.uid,nome:e,email:r,perfil:"usuario",dataCriacao:new Date,ultimoAcesso:new Date,aprovado:!1}),await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(s),{success:!0,message:"Registro realizado com sucesso! Sua conta ser\xe1 analisada por um administrador."}}catch(r){console.error("Erro no registro:",r);let e="Erro ao registrar. Tente novamente.";return"auth/email-already-in-use"===r.code?e="Este email j\xe1 est\xe1 em uso.":"auth/weak-password"===r.code?e="A senha \xe9 muito fraca. Use pelo menos 6 caracteres.":"auth/invalid-email"===r.code&&(e="Email inv\xe1lido."),{success:!1,message:e}}},logout:async()=>{try{return await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(s),{success:!0}}catch(e){return console.error("Erro no logout:",e),{success:!1,message:"Erro ao fazer logout. Tente novamente."}}},getUsuariosPendentes:async()=>{try{let e=Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"users"),Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())("aprovado","==",!1)),r=await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(e),t=[];return r.forEach(e=>{t.push(e.data())}),{success:!0,usuarios:t}}catch(e){return console.error("Erro ao buscar usu\xe1rios pendentes:",e),{success:!1,message:"Erro ao buscar usu\xe1rios pendentes."}}},aprovarUsuario:async e=>{try{return await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"users",e),{aprovado:!0}),{success:!0}}catch(e){return console.error("Erro ao aprovar usu\xe1rio:",e),{success:!1,message:"Erro ao aprovar usu\xe1rio."}}},rejeitarUsuario:async e=>{try{return await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"users",e),{aprovado:!1,rejeitado:!0}),{success:!0}}catch(e){return console.error("Erro ao rejeitar usu\xe1rio:",e),{success:!1,message:"Erro ao rejeitar usu\xe1rio."}}}}}},3873:e=>{"use strict";e.exports=require("path")},8286:()=>{},8488:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var a=t(8732),o=t(2268);function s({Component:e,pageProps:r}){return(0,a.jsx)(o.N,{children:(0,a.jsx)(e,{...r})})}t(8286)},8651:(e,r)=>{"use strict";Object.defineProperty(r,"M",{enumerable:!0,get:function(){return function e(r,t){return t in r?r[t]:"then"in r&&"function"==typeof r.then?r.then(r=>e(r,t)):"function"==typeof r&&"default"===t?r:void 0}}})},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")},9760:(e,r,t)=>{"use strict";t.r(r),t.d(r,{config:()=>O,default:()=>b,getServerSideProps:()=>p,getStaticPaths:()=>h,getStaticProps:()=>g,reportWebVitals:()=>x,routeModule:()=>w,unstable_getServerProps:()=>_,unstable_getServerSideProps:()=>y,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>E});var a={};t.r(a),t.d(a,{default:()=>f});var o=t(7339),s=t(975),n=t(8651),i=t(4124),c=t.n(i),d=t(8488),u=t(8732),l=t(2015),m=t(3511);function f(){let[e,r]=(0,l.useState)(!0),[t,a]=(0,l.useState)(""),[o,s]=(0,l.useState)(""),[n,i]=(0,l.useState)(""),[c,d]=(0,l.useState)(!1),[f,b]=(0,l.useState)({type:"",text:""}),g=(0,m.A)(),h=async c=>{c.preventDefault(),d(!0),b({type:"",text:""});try{if(e){let e=await g.login(t,o);e.success?window.location.href="/projetos":b({type:"error",text:e.message})}else{if(!n||!t||!o){b({type:"error",text:"Todos os campos s\xe3o obrigat\xf3rios."}),d(!1);return}let e=await g.registrar(n,t,o);e.success?(b({type:"success",text:e.message}),i(""),a(""),s(""),r(!0)):b({type:"error",text:e.message})}}catch(e){console.error("Erro:",e),b({type:"error",text:"Ocorreu um erro. Tente novamente."})}d(!1)};return(0,u.jsxs)("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center py-12 sm:px-6 lg:px-8 dark:bg-gray-900",children:[(0,u.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,u.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:e?"Acesse sua conta":"Crie sua conta"}),(0,u.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:e?"Entre para acessar o MOOD.PA":"Registre-se para utilizar o MOOD.PA"})]}),(0,u.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,u.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 dark:bg-gray-800",children:[f.text&&(0,u.jsx)("div",{className:`mb-4 p-3 rounded ${"error"===f.type?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-200":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-200"}`,children:f.text}),(0,u.jsxs)("form",{className:"space-y-6",onSubmit:h,children:[!e&&(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"nome",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Nome"}),(0,u.jsx)("div",{className:"mt-1",children:(0,u.jsx)("input",{id:"nome",name:"nome",type:"text",autoComplete:"name",required:!0,value:n,onChange:e=>i(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white"})})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),(0,u.jsx)("div",{className:"mt-1",children:(0,u.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:e=>a(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white"})})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"senha",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Senha"}),(0,u.jsx)("div",{className:"mt-1",children:(0,u.jsx)("input",{id:"senha",name:"senha",type:"password",autoComplete:e?"current-password":"new-password",required:!0,value:o,onChange:e=>s(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm dark:bg-gray-700 dark:border-gray-600 dark:text-white"})})]}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{type:"submit",disabled:c,className:`w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${c?"opacity-70 cursor-not-allowed":""}`,children:c?(0,u.jsx)("span",{children:"Processando..."}):(0,u.jsx)("span",{children:e?"Entrar":"Registrar"})})})]}),(0,u.jsxs)("div",{className:"mt-6",children:[(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,u.jsx)("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),(0,u.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,u.jsx)("span",{className:"px-2 bg-white text-gray-500 dark:bg-gray-800 dark:text-gray-400",children:e?"Novo no MOOD.PA?":"J\xe1 tem uma conta?"})})]}),(0,u.jsx)("div",{className:"mt-6",children:(0,u.jsx)("button",{type:"button",onClick:()=>{r(!e),b({type:"",text:""})},className:"w-full flex justify-center py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:bg-gray-600",children:e?"Criar uma nova conta":"Fazer login com uma conta existente"})})]}),e&&(0,u.jsxs)("div",{className:"mt-6 text-center",children:[(0,u.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Para demonstra\xe7\xe3o, use:"}),(0,u.jsxs)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-500",children:[(0,u.jsx)("p",{children:"Email: admin@mood-pa.com"}),(0,u.jsx)("p",{children:"Senha: admin123"})]})]})]})})]})}let b=(0,n.M)(a,"default"),g=(0,n.M)(a,"getStaticProps"),h=(0,n.M)(a,"getStaticPaths"),p=(0,n.M)(a,"getServerSideProps"),O=(0,n.M)(a,"config"),x=(0,n.M)(a,"reportWebVitals"),E=(0,n.M)(a,"unstable_getStaticProps"),v=(0,n.M)(a,"unstable_getStaticPaths"),N=(0,n.M)(a,"unstable_getStaticParams"),_=(0,n.M)(a,"unstable_getServerProps"),y=(0,n.M)(a,"unstable_getServerSideProps"),w=new o.PagesRouteModule({definition:{kind:s.A.PAGES,page:"/login",pathname:"/login",bundlePath:"",filename:""},components:{App:d.default,Document:c()},userland:a})}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[124],()=>t(9760));module.exports=a})();