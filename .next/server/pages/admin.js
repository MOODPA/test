(()=>{var e={};e.id=309,e.ids=[220,309,636],e.modules={361:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},975:(e,r)=>{"use strict";Object.defineProperty(r,"A",{enumerable:!0,get:function(){return t}});var t=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},1313:(e,r,t)=>{"use strict";t.r(r),t.d(r,{config:()=>x,default:()=>p,getServerSideProps:()=>E,getStaticPaths:()=>h,getStaticProps:()=>O,reportWebVitals:()=>g,routeModule:()=>y,unstable_getServerProps:()=>b,unstable_getServerSideProps:()=>U,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>N,unstable_getStaticProps:()=>_});var a={};t.r(a),t.d(a,{default:()=>f});var o=t(7339),s=t(975),n=t(8651),i=t(4124),c=t.n(i),d=t(8488),u=t(8732),l=t(2015),m=t(3511);function f(){let[e,r]=(0,l.useState)([]),[t,a]=(0,l.useState)(!0),[o,s]=(0,l.useState)({type:"",text:""}),n=(0,m.A)(),i=async t=>{try{a(!0);let o=await n.aprovarUsuario(t);o.success?(s({type:"success",text:"Usu\xe1rio aprovado com sucesso!"}),r(e.filter(e=>e.id!==t))):s({type:"error",text:o.message})}catch(e){console.error("Erro ao aprovar usu\xe1rio:",e),s({type:"error",text:"Erro ao aprovar usu\xe1rio."})}finally{a(!1)}},c=async t=>{try{a(!0);let o=await n.rejeitarUsuario(t);o.success?(s({type:"success",text:"Usu\xe1rio rejeitado com sucesso!"}),r(e.filter(e=>e.id!==t))):s({type:"error",text:o.message})}catch(e){console.error("Erro ao rejeitar usu\xe1rio:",e),s({type:"error",text:"Erro ao rejeitar usu\xe1rio."})}finally{a(!1)}};return(0,u.jsx)("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:(0,u.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,u.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,u.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Painel de Administra\xe7\xe3o"}),o.text&&(0,u.jsx)("div",{className:`mt-4 p-3 rounded ${"error"===o.type?"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-200":"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-200"}`,children:o.text}),(0,u.jsxs)("div",{className:"mt-6",children:[(0,u.jsx)("h2",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Solicita\xe7\xf5es de Registro Pendentes"}),t?(0,u.jsx)("div",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Carregando..."}):0===e.length?(0,u.jsx)("div",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"N\xe3o h\xe1 solicita\xe7\xf5es pendentes."}):(0,u.jsx)("div",{className:"mt-4 overflow-x-auto",children:(0,u.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,u.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-800",children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"Nome"}),(0,u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"Email"}),(0,u.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"Data de Registro"}),(0,u.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider dark:text-gray-400",children:"A\xe7\xf5es"})]})}),(0,u.jsx)("tbody",{className:"bg-white divide-y divide-gray-200 dark:bg-gray-700 dark:divide-gray-600",children:e.map(e=>(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-white",children:e.nome}),(0,u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:e.email}),(0,u.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300",children:new Date(1e3*e.dataCriacao.seconds).toLocaleDateString("pt-BR")}),(0,u.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,u.jsx)("button",{onClick:()=>i(e.id),className:"text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300 mr-4",disabled:t,children:"Aprovar"}),(0,u.jsx)("button",{onClick:()=>c(e.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",disabled:t,children:"Rejeitar"})]})]},e.id))})]})})]})]})})})}let p=(0,n.M)(a,"default"),O=(0,n.M)(a,"getStaticProps"),h=(0,n.M)(a,"getStaticPaths"),E=(0,n.M)(a,"getServerSideProps"),x=(0,n.M)(a,"config"),g=(0,n.M)(a,"reportWebVitals"),_=(0,n.M)(a,"unstable_getStaticProps"),N=(0,n.M)(a,"unstable_getStaticPaths"),v=(0,n.M)(a,"unstable_getStaticParams"),b=(0,n.M)(a,"unstable_getServerProps"),U=(0,n.M)(a,"unstable_getServerSideProps"),y=new o.PagesRouteModule({definition:{kind:s.A.PAGES,page:"/admin",pathname:"/admin",bundlePath:"",filename:""},components:{App:d.default,Document:c()},userland:a})},2015:e=>{"use strict";e.exports=require("react")},2268:(e,r,t)=>{"use strict";t.d(r,{N:()=>n});var a=t(8732),o=t(2015);let s=(0,o.createContext)({isDarkMode:!1,toggleTheme:()=>{}}),n=({children:e})=>{let[r,t]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{"dark"===localStorage.getItem("mood-pa-theme")&&(t(!0),document.documentElement.classList.add("dark"))},[]),(0,a.jsx)(s.Provider,{value:{isDarkMode:r,toggleTheme:()=>{t(e=>{let r=!e;return localStorage.setItem("mood-pa-theme",r?"dark":"light"),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),r})}},children:e})}},3511:(e,r,t)=>{"use strict";t.d(r,{A:()=>i}),function(){var e=Error("Cannot find module 'firebase/app'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}();let a={apiKey:process.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.NEXT_PUBLIC_FIREBASE_APP_ID},o=Object(function(){var e=Error("Cannot find module 'firebase/app'");throw e.code="MODULE_NOT_FOUND",e}())(a),s=Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(o),n=Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(o),i=function(){return{login:async(e,r)=>{try{let t=(await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(s,e,r)).user,a=await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"users",t.uid));if(!a.exists())return await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(s),{success:!1,message:"Dados de usu\xe1rio n\xe3o encontrados."};{let e=a.data();if(!e.aprovado)return await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(s),{success:!1,message:"Sua conta ainda n\xe3o foi aprovada por um administrador."};return await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"users",t.uid),{ultimoAcesso:new Date}),{success:!0,user:{id:t.uid,email:t.email,nome:e.nome,perfil:e.perfil}}}}catch(r){console.error("Erro no login:",r);let e="Erro ao fazer login. Tente novamente.";return"auth/user-not-found"===r.code||"auth/wrong-password"===r.code?e="Email ou senha incorretos.":"auth/too-many-requests"===r.code&&(e="Muitas tentativas de login. Tente novamente mais tarde."),{success:!1,message:e}}},registrar:async(e,r,t)=>{try{let a=Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"users"),Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())("email","==",r));if(!(await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(a)).empty)return{success:!1,message:"Este email j\xe1 est\xe1 em uso."};let o=(await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(s,r,t)).user;return await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"users",o.uid),{id:o.uid,nome:e,email:r,perfil:"usuario",dataCriacao:new Date,ultimoAcesso:new Date,aprovado:!1}),await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(s),{success:!0,message:"Registro realizado com sucesso! Sua conta ser\xe1 analisada por um administrador."}}catch(r){console.error("Erro no registro:",r);let e="Erro ao registrar. Tente novamente.";return"auth/email-already-in-use"===r.code?e="Este email j\xe1 est\xe1 em uso.":"auth/weak-password"===r.code?e="A senha \xe9 muito fraca. Use pelo menos 6 caracteres.":"auth/invalid-email"===r.code&&(e="Email inv\xe1lido."),{success:!1,message:e}}},logout:async()=>{try{return await Object(function(){var e=Error("Cannot find module 'firebase/auth'");throw e.code="MODULE_NOT_FOUND",e}())(s),{success:!0}}catch(e){return console.error("Erro no logout:",e),{success:!1,message:"Erro ao fazer logout. Tente novamente."}}},getUsuariosPendentes:async()=>{try{let e=Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"users"),Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())("aprovado","==",!1)),r=await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(e),t=[];return r.forEach(e=>{t.push(e.data())}),{success:!0,usuarios:t}}catch(e){return console.error("Erro ao buscar usu\xe1rios pendentes:",e),{success:!1,message:"Erro ao buscar usu\xe1rios pendentes."}}},aprovarUsuario:async e=>{try{return await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"users",e),{aprovado:!0}),{success:!0}}catch(e){return console.error("Erro ao aprovar usu\xe1rio:",e),{success:!1,message:"Erro ao aprovar usu\xe1rio."}}},rejeitarUsuario:async e=>{try{return await Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(Object(function(){var e=Error("Cannot find module 'firebase/firestore'");throw e.code="MODULE_NOT_FOUND",e}())(n,"users",e),{aprovado:!1,rejeitado:!0}),{success:!0}}catch(e){return console.error("Erro ao rejeitar usu\xe1rio:",e),{success:!1,message:"Erro ao rejeitar usu\xe1rio."}}}}}},3873:e=>{"use strict";e.exports=require("path")},8286:()=>{},8488:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var a=t(8732),o=t(2268);function s({Component:e,pageProps:r}){return(0,a.jsx)(o.N,{children:(0,a.jsx)(e,{...r})})}t(8286)},8651:(e,r)=>{"use strict";Object.defineProperty(r,"M",{enumerable:!0,get:function(){return function e(r,t){return t in r?r[t]:"then"in r&&"function"==typeof r.then?r.then(r=>e(r,t)):"function"==typeof r&&"default"===t?r:void 0}}})},8732:e=>{"use strict";e.exports=require("react/jsx-runtime")}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[124],()=>t(1313));module.exports=a})();